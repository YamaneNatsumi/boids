{"version":3,"sources":["webpack:///webpack/bootstrap d82c0d646b14661ee98b","webpack:///./index.es6"],"names":[],"mappings":"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","file":"./index.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d82c0d646b14661ee98b\n **/","// あらかじめ決めておくもの\nvar NUMBER = 50;//全体個数\nvar CENTER_PULL_FACTOR = 100;// 群れの中心に引き寄せられる強さ。小さいほど引き寄せられる\nvar DIST_THRESHOLD = 30; // どれくらいの距離までちかづいたら離れるか\nvar SPEED = 7; // 最大の移動速度\nvar FPS = 30;\nvar SCREEN_SIZE = 600;\nvar BOID_SIZE = 10;\nvar boids = [];\nvar canvas = document.getElementById('boidyamanatsu');\nvar ctx = canvas.getContext('2d');\n\n// Birdクラス\nclass Boid{\n\tconstructor(x,y,vx,vy,id){\n\t\tthis.x = x;//Birdのxに引数のxを代入\n\t\tthis.y = y;\n\t\tthis.vx = vx;\n\t\tthis.vy = vy;\n\t\tthis.id = id;\n\t\t// x,y:現在の位置 vx,vy:移動量 id:インスタンスを識別するid\n\t}\t\n\t//①多くの個体がいる方向に動く\n\tmove_center() {\n\t\tvar center = {x:0,y:0}\n\t  for(var i = 0; i < boids.length; i++){\n\t    // idが一緒 = 同じ個体なのでスキップ\n\t    if(this.id == boids[i].id) continue;\n\t    // 全ての個体の値を足し合わせる\n\t    center.x += boids[i].x;//ここは何回かの繰り返しで順にどんどん値が足されていく？\n\t    center.y += boids[i].y;//ここは何回かの繰り返しで順にどんどん値が足されていく？\n\t  }\n\n\t  // 平均をとって、中心を求める\n\t  center.x /= (NUMBER - 1);\n\t  center.y /= (NUMBER - 1);\n\n\t  // 中心に近づく距離を計算　今の位置から中心の位置までの距離を計算÷ 群れの中心に引き寄せられる強さ←ここよくわからない\n\t  this.vx += (center.x - this.x) / CENTER_PULL_FACTOR\n\t  this.vy += (center.y - this.y) / CENTER_PULL_FACTOR\n\t};\n\n\t//②近くの個体と近づきすぎたらぶつからないように離れること\n\tmove_avoid() {\n\t  for(var i = 0; i < boids.length; i++){\n\t    if(this.id == boids[i].id) continue;\n\t    //２点の距離を計算する関数\n\t    function distance(d1,d2){\n\t    \tvar dis_x = d1.x - d2.x;\n\t    \tvar dis_y = d1.y - d2.y;\n\t    \treturn Math.sqrt(dis_x * dis_x + dis_y * dis_y)\n\t    }\n\t    //dは特定の２点の距離\n\t    var d = distance(boids[i],this)\n\t    //dがDIST_THRESHOLDより小さければ\n\t    if( d < DIST_THRESHOLD) {\n\t      // 離れるために、逆方向に動く\n\t      this.vx -= (boids[i].x - this.x);\n\t      this.vy -= (boids[i].y - this.y);\n\t    }\n\t  }\n\t};\n\n\t//③近くのもの同士で動くスピードや方向を合わせる\n\tmove_average() {\n\t  var average = {x:0,y:0}\n\t  for(var i = 0; i < boids.length; i++){\n\t    if(this.id == boids[i].id) continue;\n\t    average.x += boids[i].vx;\n\t    average.y += boids[i].vy;\n\t  }\n\t  // 平均ををとって、中心を求める\n\t  average.x /= (NUMBER - 1);\n\t  average.y /= (NUMBER - 1);\n\n\t  // 全体のベクトルの半分の移動速度にする\n\t  this.vx = (average.x - this.vx)/2;\n\t  this.vy = (average.y - this.vy)/2;\n\t};\n\n\t//④移動距離が一定以上になったら減速\n\tspeed_down() {\n\t  // 距離を求める\n\t  var movement = Math.sqrt(this.vx * this.vx + this.vy * this.vy);\n\t   // 移動距離が一定以上だったら\n\t  if(movement > SPEED) {\n\t    // 減速させる\n\t    this.vx = (this.vx / movement) * SPEED;//意味はわかるけどなんでこの計算？\n\t    this.vy = (this.vy / movement) * SPEED;//意味はわかるけどなんでこの計算？\n\t  }\n\t}\n\t//⑤スクリーンの端にぶつかると方向をかえる\n\tchange_direction(){\n\t\tif(this.x < 0 && this.vx < 0 || this.x > SCREEN_SIZE && this.vx > 0){\n\t\t\tthis.vx *= -1\n\t\t}\n\t\tif(this.y < 0 && this.vy < 0 || this.y > SCREEN_SIZE && this.vy > 0) {\n      \t\tthis.vy *= -1;\n    \t}\n\t}\n\t//①〜⑤の関数を実行＆移動量が決まったのでそれをもとの座標の値に加える\n\tcheck(){\n\t  this.move_center();\n\t  this.move_avoid();\n\t  this.move_average();\n\t  this.speed_down();\n\t  this.change_direction();\n\t  this.x += this.vx;\n\t  this.y += this.vy;\n\t}\n}\n// 読み込み終わりに実行される\n  window.onload = function() {\n    canvas.width = canvas.height = SCREEN_SIZE;\n    ctx.fillStyle = \"rgba(50, 200, 0, 0.8)\";\n    for (var i = 0; i < NUMBER; ++i) {\n      boids.push(\n        new Boid( Math.random() * SCREEN_SIZE, Math.random() * SCREEN_SIZE, 0, 0 ,i)//x,y,vx,vy,id\n      )\n    }\n    setInterval(\n      function() {\n        ctx.clearRect(0, 0, SCREEN_SIZE, SCREEN_SIZE);\n        for (var i = 0; i < boids.length; i++) {\n          ctx.fillRect(boids[i].x - BOID_SIZE / 2, boids[i].y - BOID_SIZE / 2, BOID_SIZE, BOID_SIZE);\n          boids[i].check();\n        }\n      },\n      1000/FPS);\n  }\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.es6\n **/"],"sourceRoot":""}